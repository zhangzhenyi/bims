<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Cache-Control" content="no-transform">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link href="css/c.css" rel="stylesheet" type="text/css">
<link href="css/owl.carousel.css" rel="stylesheet" type="text/css">
<link href="css/owl.theme.css" rel="stylesheet" type="text/css">
<script src="lib/jquery-2.1.4.min.js"></script>
<script src="lib/angular.min.js"></script>
<script src="lib/angular-sanitize.min.js"></script>
<script src="lib/owl.carousel.js"></script>
<script src="lib/radialIndicator.min.js"></script>
<script src="lib/angular.radialIndicator.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.core.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.frame.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.scroller.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.util.datetime.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.datetimebase.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.datetime.js"></script>
<script src="lib/mobiscroll-master/js/mobiscroll.frame.ios.js"></script>
<script src="lib/mobiscroll-master/js/i18n/mobiscroll.i18n.zh.js"></script>
<script src="lib/touch-0.2.14.min.js"></script>
<script src="js/my-route.js"></script>
<script src="js/interaction.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script> 
<title>桥梁</title>
</head>
<body ng-app="bridgeH5" onload="onLoad()">
<div my-view></div>
<div style="width:100%; height:100%; position:absolute; top:0;left:0; background:rgba(0,0,0,0.01); display:{{displayLoading()}};" 
ng-controller="cLoading" id="loadingContainer" onclick="return false;">
</div>
<div style="width:100%; height:100%; position:absolute; top:0;left:0; background:rgba(0,0,0,0.01); display:none;" id="msgContainer" onclick="return false;" ></div>
<div ng-controller="cAutoTransfer">
<my-auto-transfer interval="2000"></my-auto-transfer>
</div>
<script src="js/bridge.js"></script>
<script type="text/javascript"  charset="utf-8">
function onLoad() {       
	//等待加载PhoneGap
    document.addEventListener("deviceready", onDeviceReady, false);      
}

// PhoneGap加载完毕
function onDeviceReady() {
//按钮事件
document.addEventListener("backbutton", eventBackButton, false); //返回键
/* document.addEventListener("menubutton", eventMenuButton, false); //菜单键
document.addEventListener("searchbutton", eventSearchButton, false); //搜索键 */
 function eventBackButton(){
	if(currentPage == "mainPage"){//?? 判断全局的currentpage的值，这个值应该被反复设置
		//提示再点击一次退出应用
		tipmessage("再点击一次退出应用");
		document.removeEventListener("backbutton", eventBackButton, false); //注销返回键
		//3秒后重新注册
		var intervalID = window.setInterval(function(){
			window.clearInterval(intervalID);
			document.addEventListener("backbutton", eventBackButton, false); //返回键
		},3000);
	}else{
		windows.location.back();//返回上一级页面 ？？
	}
	
 }
}
</script>
</body>
</html>