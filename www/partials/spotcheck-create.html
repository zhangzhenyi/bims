<div  class="pb75 pt60 ng-scope">
<!--header-->
<header class="bg1">
	<span class="return"><a href="" ng-click="$location.back()"><img src="img/11.png"/></a></span>
	<p class="title">现场签认</p>
	<span class="txt1" style=""><a ng-click="save()" href=""><span>保存</span></a></span>
	<span class="nochoose"><a ng-click="submit()" href=""><span>提交</span></a></span>
</header>
<section class="mt10">
<form name="form" novalidate="novalidate">
	<ul class="list-3">
		<li class="clearfix">
			<span class="l"><img src="img/i-xq-14.jpg"/>标题</span><span class="r">
			<span class="r">
			<textarea name="title" ng-model="newItem.title" name="title" cols="" rows="" class="fromarea" placeholder="最多支持20个字符" ng-maxlength="20" maxlength="20" required></textarea>
			<span style="color:red" ng-show="form.title.$dirty && form.title.$invalid">
			<small ng-show="form.title.$error.maxLength">标题长度不能超过20</small>
				<small ng-show="form.title.$error.required">标题不能为空</small>
 			</span>
			</span>
		</li>
		<li class="clearfix">
			<span class="l"><img src="img/i-xq-1.jpg"/>构件编码</span><span class="rr">
			<input ng-model="newItem.compId" name="compId" class="fromtxt" placeholder="请输入构件编码" onchange="angular.element(this).scope().onCompIdChange()" required="required" maxlength="50"/>
			<span style="color:red" ng-show="form.compId.$dirty">
				<small ng-show="form.compId.$error.maxLength">编码长度不能超过50</small>
				<small ng-show="form.compId.$error.required">编码不能为空</small>
				<small ng-show="!form.compId.$error.required && (!newItem.component || !newItem.component.name)">构建编码无效</small>
 			</span></span>
			<span class="ll"><a href="" ng-click="onscan()"><img src="img/scan.png"></a></span>
		</li>
		<li class="clearfix">
			<span class="t"><img src="img/i-xq-2.jpg"/>构件信息</span>
            <p class="tp"><span>名称：</span>{{newItem.component.name}}</p>
            <p class="tp"><span>设计：</span>{{newItem.component.designer}}</p>
            <p class="tp"><span>施工：</span>{{newItem.component.constructor}}</p>
            <p class="tp"><span>监理：</span>{{newItem.component.supervisor}}</p>
            <p class="tp" ng-repeat="(k, v) in newItem.component.properties">
            <span>{{k}}：</span>{{v}}
        	</p>
		</li>
		<li class="clearfix">
			<span class="l"><img src="img/i-xq-3.jpg"/>签认意见</span><span class="r">
			<label style="color:#aaa;">您还可输入{{remain}}个字符</label>
			<textarea name="content" ng-model="newItem.content" cols="" rows="" class="fromarea" placeholder="" ng-maxlength="150" maxlength="150" ng-change="changed()" required></textarea>
			<span style="color:red" ng-show="form.content.$dirty && form.content.$invalid">
			<small ng-show="form.content.$error.maxLength">签认意见长度不能超过150</small>
				<small ng-show="form.content.$error.required">签认意见不能为空</small>
 			</span></span>
		</li>
		<li class="clearfix">
			<span class="l"><img src="img/i-xq-5.jpg"/>相片</span>
			<span class="r pr">
			<span ng-repeat="pic in newItem.picAttachmentList" class="pic" style="margin-right:5px;">
			<img ng-src="{{pic.thumbnailUrl}}" style="width:100%; vertical-align:bottom;margin-bottom:0;"/></span>
			<my-media-selector src="img/i-jia.jpg" class="pic" type="img" change="imageChanged($uri)"></my-media-selector></span>
		</li>
	</ul>
	</form>
</section>

</div>
